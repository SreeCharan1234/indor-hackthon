<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Saarthi | Community Connect</title>
    <!-- IconScout CDN -->
    <link rel="stylesheet" href="https://unicons.iconscout.com/release/v2.1.6/css/unicons.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    
    <!-- Stylesheet -->
    <link rel="stylesheet" href="../static/style.css">
    <link
    rel="shortcut icon"
    href="/static/images/favicon.ico"
    type="image/x-icon"
  />
  <style>
    .job-card {
  background: var(--color-white);
  border: 1px solid #e3e3e3;
  border-radius: 8px;
  padding: 20px;
  max-width: 300px;
}
.job-card .icon {
  width: 30px;
  height: 30px;
  border-radius: 50%;
}
.job-card .job-title {
  font-weight: bold;
  font-size: 1.2rem;
}
.job-card .job-location {
  color: #666;
}
.job-card .job-posted {
  color: #999;
}
    .card {
        border-radius: 10px;
        text-align: center;
        padding: 20px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        transition: transform 0.2s;
    }

    .card:hover {
        transform: translateY(-10px);
    }

    .card img {
        max-width: 50px;
        margin-bottom: 15px;
    }

    .card-title {
        font-size: 18px;
        font-weight: bold;
    }

    .card-text {
        font-size: 14px;
        color: #666;
    }

    .card .btn {
        background-color: #eef4ff;
        color: #007bff;
        font-weight: bold;
        border: none;
        border-radius: 20px;
    }

    .card .btn:hover {
        background-color: #d9e6ff;
    }

    .rating {
        font-size: 14px;
        color: #ffcc00;
    }

    .reviews {
        font-size: 12px;
        color: #888;
    }

    .middle .create-post {
        width: 100%;
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-top: 1rem;
        background: var(--color-white);
        padding: 0.4rem var(--card-padding);
        border-radius: var(--border-radius);
    }

    .middle .create-post input[type="text"] {
        width: 100%;
        justify-self: start;
        padding-left: 1rem;
        background: transparent;
        color: var(--color-dark);
        margin-right: 1rem;
    }
    .sidebar {
width: 17%;
position: fixed;
}

button:hover {
background-color: rgba(0, 123, 255, 0.1); /* Adjust to match Bootstrap's hover effect */
}

.form-select {
        width: 10%;
        height: 36px;
        font-size: 16px;
        color: #333;
        background-color: #fff;
        border: 1px solid #ccc;
        border-radius: 50px;
        padding: 8px;
    }

    .form-select option {
        background-color: #fff;
        color: #333;
        padding: 5px;
    }
</style>
</head>

<body>
    <nav>
        <div class="container">
          <img
            src="/static/images/logo.png"
            alt=""
            height="50%"
            width=""
            class="logo"
          />
          <div class="search-bar">
            <i class="uil uil-search"></i>
            <input
              type="search"
              placeholder="Search for events, volunteer opportunities, and jobs nearby"
            />
          </div>
          <div class="create">
            <div class="profile-photo">
              <img src="../static/images/profile-13.jpg" alt="Profile Image" />
            </div>
            <a href="login.html"><label class="btn btn-warning">Logout</label></a>
          </div>
          <div class="create-post-overlay" id="create-post-overlay">
            <div class="create-post">
              <button class="close-button" id="closeButton">&times;</button>
              <div class="header">
                <img
                  src="/static/images/profile-1.jpg"
                  alt="Profile Picture"
                  class="profile-pic"
                />
                <div class="user-info">
                  <span class="username">Sushil Verma</span>
                </div>
              </div>
              <form id="postForm" method="POST" enctype="multipart/form-data">
                <textarea
                  name="post_text"
                  placeholder="What's on your mind, ?"
                  class="post-input"
                ></textarea>
                <div class="image-upload">
                  <label for="imageUpload" class="image-upload-label">Upload Image</label>
                  <input
                    type="file"
                    id="imageUpload"
                    name="image_file"
                    accept="image/*"
                    class="image-upload-input"
                  />
                  <span class="image-name" id="imageName"></span>
                </div>
                <button type="submit" class="post-button" disabled>Post</button>
              </form>
            </div>
          </div>
        </div>
      </nav>

    <!-------------------------------- MAIN ----------------------------------->
    <main>
        <div class="container">
          <!----------------- LEFT -------------------->
          <div class="left">
            <!----------------- SIDEBAR -------------------->
            <div class="sidebar">
                <a class="menu-item " href="home.html">
                    <span><i class="bi bi-house-heart-fill"></i></span>
                    <h3>Home</h3>
                </a>
                <a class="menu-item active" href="all.html">
                    <span><i class="bi bi-search-heart-fill"></i></span>
                    <h3>Explore</h3>
                </a>
                <a class="menu-item" id="messages-notifications" href="buysell.html">
                    <span><i class="bi bi-bag-check-fill"></i></span>
                    <h3>Buys & Sell</h3>
                </a>
                <a class="menu-item" href="dashboard.html">
                    <span><i class="bi bi-people"></i></span>
                    <h3>Meeting</h3>
                </a>
                <a class="menu-item" href="job.html" id="theme">
                    <span><i class="bi bi-person-check"></i></span>
                    <h3>Find Job</h3>
                </a>
            <label class="btn btn-primary" for="create-post" id="create-post-btn"> <b style="color: white;"> Upload a post</b></label>
</div>
          </div>
          <!----------------- END OF SIDEBAR -------------------->
        
            <!----------------- MIDDLE -------------------->
              <div class="middle">
                <button type="button" style="display: inline-block; width: 31%; padding: 10px 20px; font-size: 1.25rem; line-height: 1.5; text-align: center; text-decoration: none; white-space: nowrap; border: 2px solid #007bff; color: #007bff; background-color: transparent;border-radius: 50px;  margin-top: 30px;"><a href="all.html" style="color: #007bff;">Medical Support</a></button>
      &nbsp;
      &nbsp;
      <button type="button" style="display: inline-block; width: 31%; padding: 10px 20px; font-size: 1.25rem; line-height: 1.5; text-align: center; text-decoration: none; white-space: nowrap; border: 2px solid #28a745; color: #28a745; background-color: transparent; border-radius: 50px; margin-top:  30px;"><a href="restaurent.html" style="color: #28a745;">Restaurants</a></button>
      &nbsp;
      &nbsp;
      <button type="button" style="display: inline-block; width: 31%; padding: 10px 20px; font-size: 1.25rem; line-height: 1.5; text-align: center; text-decoration: none; white-space: nowrap; border: 2px solid #17a2b8; color: #17a2b8; background-color: transparent; border-radius: 50px; margin-top: 30px;"><a href="index.html" style="color: #17a2b8;">Events</a></button>         <div class="feeds">
                  
                <form action="" class="create-post"> 
                    <div class="profile-photo">
                        <img src="../static/images/profile-1.jpg">
                    </div>
                    
                    <input type="text" placeholder="View on Map" id="create-post">
                    <select class="form-select" aria-label="Default select example" onchange="location = this.value;">
                        <option value="all.html">All</option>
                        <option value="clinic.html">Clinic</option>
                        <option value="Pharmacy.html">Pharmacy</option>
                        <option value="hospital.html">Hospital</option>
                    </select>

  &nbsp;                  &nbsp;<button type="button" class="btn btn-dark" onclick="window.location.href='hmap.html'"> Map </button>
                </form>


                
            <!----------------- END OF MIDDLE -------------------->
            {%for i in p%}
            <div class="feed">
                <div class="head">
                    <div class="user">
                        <div class="profile-photo">
                            <img src="{{i[2]}}">
                        </div>
                        <div class="info">
                            <h3>{{i[0]}}</h3>
                            <small>{{i[3]}} {{i[4]}}</small>
                        </div>
                    </div>
                    <span class="edit">
                        <i class="uil uil-ellipsis-h"></i>
                    </span>
                </div>
                
                <div class="caption">
                    <p><b>{{i[0]}}</b>
                        {{i[1]}}
                        
                        <span class="harsh-tag">#life</span>
                    </p>
                </div>
                <div class="photo">
                    <img src="{{i[2]}}">
                </div>

                <div class="action-buttons">
                    <div class="interaction-buttons">
                        <!-- <span><i class="uil uil-heart"></i></span>
                        <span><i class="uil uil-comment-dots"></i></span> -->
                        <span><i class="uil uil-share-alt"></i></span>
                    </div>
                    <div class="bookmark">
                        <span><i class="uil uil-bookmark-full"></i></span>
                    </div>
                </div>

               


                <div class="text-muted">
                    <!-- 50 -->
                </div>
            </div>
            {%endfor%}
           
            <!----------------- RIGHT -------------------->
            <div class="right" id="message-search" >
                <div class="messages" style="background-color: black;">
                  <!-- MESSAGES -->
                  <!-- END OF MESSAGES -->
                </div>
                <!-- FRIEND REQUEST -->
            </div>
            <!----------------- END OF RIGHT -------------------->
        </div>
    </main>

    <!----------------- THEME CUSTOMIZATION -------------------->
    <div class="customize-theme">
        <div class="card">
            <h2>Customize your view</h2>
            <p class="text-muted">Manage your font size, color, and background</p>

            <!----------- FONT SIZE ----------->
            <div class="font-size">
                <h4>Font Size</h4>
                <div>
                    <h6>Aa</h6>
                    <div class="choose-size">
                        <span class="font-size-1"></span>
                        <span class="font-size-2 active"></span>
                        <span class="font-size-3"></span>
                        <span class="font-size-4"></span>
                        <span class="font-size-5"></span>
                    </div>
                    <h3>Aa</h3>
                </div>
            </div>

            <!----------- PRIMARY COLORS ----------->
            <div class="color">
                <h4>Color</h4>
                <div class="choose-color">
                    <span class="color-1 active"></span>
                    <span class="color-2"></span>
                    <span class="color-3"></span>
                    <span class="color-4"></span>
                    <span class="color-5"></span>
                </div>
            </div>

            <!----------- BACKGROUND COLORS ----------->
            <div class="background">
                <h4>Background</h4>
                <div class="choose-bg">
                    <div class="bg-1">
                        <span></span>
                        <h5 for="bg-1">Light</h5>
                    </div>
                    <div class="bg-2">
                        <span></span>
                        <h5 for="bg-2">Dim</h5>
                    </div>
                    <div class="bg-3 active">
                        <span></span>
                        <h5 for="bg-3">Dark</h5>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.querySelector('.form-select').addEventListener('change', function() {
            window.location.href = this.value;
        });

        // Profile Image
        function toggleDropdown() {
      var dropdownMenu = document.getElementById("profile-dropdown-menu");
      dropdownMenu.classList.toggle("show");
    }
  
  function toggleDropdownEdit() {
    var dropdown = document.getElementById("dropdown");
    if (dropdown.style.display === "none") {
      dropdown.style.display = "block";
    } else {
      dropdown.style.display = "none";
    }
  }
  
  
  function logout() {
      // Implement logout functionality here
      alert("Logout clicked!");
  }
  
  
        // Sidebar
        const menuItems = document.querySelectorAll(".menu-item");
  
        // Messages
        const messageNotification = document.querySelector(
          "#messages-notifications"
        );
        const messages = document.querySelector(".messages");
        const message = messages.querySelectorAll(".message");
        const messageSearch = document.querySelector("#message-search");
  
        //Theme
        // const theme = document.querySelector("#theme");
        const themeModal = document.querySelector(".customize-theme");
        const fontSize = document.querySelectorAll(".choose-size span");
        var root = document.querySelector(":root");
        const colorPalette = document.querySelectorAll(".choose-color span");
        // const Bg1 = document.querySelector(".bg-1");
        // const Bg2 = document.querySelector(".bg-2");
        const Bg3 = document.querySelector(".bg-3");
  
        // ============== SIDEBAR ==============
  
        // Remove active class from all menu items
        const changeActiveItem = () => {
          menuItems.forEach((item) => {
            item.classList.remove("active");
          });
        };
  
        menuItems.forEach((item) => {
          item.addEventListener("click", () => {
            changeActiveItem();
            item.classList.add("active");
            if (item.id != "notifications") {
              document.querySelector(".notifications-popup").style.display =
                "none";
            } else {
              document.querySelector(".notifications-popup").style.display =
                "block";
              document.querySelector(
                "#notifications .notification-count"
              ).style.display = "none";
            }
          });
        });
  
        // ============== MESSAGES ==============
  
        //Searches messages
        const searchMessage = () => {
          const val = messageSearch.value.toLowerCase();
          message.forEach((user) => {
            let name = user.querySelector("h5").textContent.toLowerCase();
            if (name.indexOf(val) != -1) {
              user.style.display = "flex";
            } else {
              user.style.display = "none";
            }
          });
        };
  
        //Search for messages
        messageSearch.addEventListener("keyup", searchMessage);
  
        //Highlight messages card when messages menu item is clicked
        messageNotification.addEventListener("click", () => {
          messages.style.boxShadow = "0 0 1rem var(--color-primary)";
          messageNotification.querySelector(".notification-count").style.display =
            "none";
          setTimeout(() => {
            messages.style.boxShadow = "none";
          }, 2000);
        });
  
        // ============== THEME / DISPLAY CUSTOMIZATION ==============
  
        // Opens Modal
        const openThemeModal = () => {
          themeModal.style.display = "grid";
        };
  
        // Closes Modal
        const closeThemeModal = (e) => {
          if (e.target.classList.contains("customize-theme")) {
            themeModal.style.display = "none";
          }
        };
  
        themeModal.addEventListener("click", closeThemeModal);
        // theme.addEventListener("click", openThemeModal);
  
        // ============== FONT SIZE ==============
  
        // remove active class from spans or font size selectors
        const removeSizeSelectors = () => {
          fontSize.forEach((size) => {
            size.classList.remove("active");
          });
        };
  
        fontSize.forEach((size) => {
          size.addEventListener("click", () => {
            removeSizeSelectors();
            let fontSize;
            size.classList.toggle("active");
  
            if (size.classList.contains("font-size-1")) {
              fontSize = "10px";
              root.style.setProperty("----sticky-top-left", "5.4rem");
              root.style.setProperty("----sticky-top-right", "5.4rem");
            } else if (size.classList.contains("font-size-2")) {
              fontSize = "13px";
              root.style.setProperty("----sticky-top-left", "5.4rem");
              root.style.setProperty("----sticky-top-right", "-7rem");
            } else if (size.classList.contains("font-size-3")) {
              fontSize = "16px";
              root.style.setProperty("----sticky-top-left", "-2rem");
              root.style.setProperty("----sticky-top-right", "-17rem");
            } else if (size.classList.contains("font-size-4")) {
              fontSize = "19px";
              root.style.setProperty("----sticky-top-left", "-5rem");
              root.style.setProperty("----sticky-top-right", "-25rem");
            } else if (size.classList.contains("font-size-5")) {
              fontSize = "22px";
              root.style.setProperty("----sticky-top-left", "-12rem");
              root.style.setProperty("----sticky-top-right", "-35rem");
            }
  
            // change font size of the root html element
            document.querySelector("html").style.fontSize = fontSize;
          });
        });
  
        // Remove active class from colors
        const changeActiveColorClass = () => {
          colorPalette.forEach((colorPicker) => {
            colorPicker.classList.remove("active");
          });
        };
  
        // Change color primary
        colorPalette.forEach((color) => {
          color.addEventListener("click", () => {
            let primary;
            changeActiveColorClass();
  
            if (color.classList.contains("color-1")) {
              primaryHue = 252;
            } else if (color.classList.contains("color-2")) {
              primaryHue = 52;
            } else if (color.classList.contains("color-3")) {
              primaryHue = 352;
            } else if (color.classList.contains("color-4")) {
              primaryHue = 152;
            } else if (color.classList.contains("color-5")) {
              primaryHue = 202;
            }
  
            color.classList.add("active");
            root.style.setProperty("--primary-color-hue", primaryHue);
          });
        });
  
  // Theme Background Values
  let lightColorLightness = "0%"; // Set default light color lightness
  let whiteColorLightness = "10%"; // Set default white color lightness
  let darkColorLightness = "95%"; // Set default dark color lightness
  
  
   // Changes background color
  const changeBG = () => {
      document.documentElement.style.setProperty("--light-color-lightness", lightColorLightness);
      document.documentElement.style.setProperty("--white-color-lightness", whiteColorLightness);
      document.documentElement.style.setProperty("--dark-color-lightness", darkColorLightness);
  };
  
  // Set default theme
  Bg3.classList.add("active");
  changeBG();
  
  // Remove the theme selector
  themeModal.style.display = "none";
        document.addEventListener("DOMContentLoaded", function () {
          const postInput = document.querySelector(".post-input");
          const postButton = document.querySelector(".post-button");
          const imageUploadInput = document.getElementById("imageUpload");
          const imageName = document.getElementById("imageName");
          const closeButton = document.getElementById("closeButton");
          const postClose = document.getElementById("closeButt");
          const createPostOverlay = document.getElementById(
            "create-post-overlay"
          );
          const createPostBtn = document.getElementById("create-post-btn");
  
          postInput.addEventListener("input", togglePostButton);
          imageUploadInput.addEventListener("change", handleImageUpload);
          closeButton.addEventListener("click", closeCreatePostOverlay);
          createPostBtn.addEventListener("click", openCreatePostOverlay);
          postClose.addEventListener("click", closeCreatePostOverlay);
  
          function togglePostButton() {
            if (
              postInput.value.trim() !== "" ||
              imageUploadInput.files.length > 0
            ) {
              postButton.disabled = false;
            } else {
              postButton.disabled = true;
            }
          }
  
          function handleImageUpload() {
            const file = imageUploadInput.files[0];
            if (file) {
              imageName.textContent = file.name;
              togglePostButton();
            } else {
              imageName.textContent = "";
              togglePostButton();
            }
          }
  
          function closeCreatePostOverlay() {
            createPostOverlay.style.display = "none";
          }
  
          function openCreatePostOverlay() {
            createPostOverlay.style.display = "flex";
          }
        });
  
        function togglePostButton() {
  
  if (postInput.value.trim() !== '' || imageUploadInput.files.length > 0) {
  
      postButton.disabled = false;
  
  } else {
  
      postButton.disabled = true;
  
  }
  
  }
  
  
  
  function handleImageUpload() {
  
  const file = imageUploadInput.files[0];
  
  if (file) {
  
      imageName.textContent = file.name;
  
      togglePostButton();
  
  } else {
  
      imageName.textContent = '';
  
      togglePostButton();
  
  }
  
  }
  
  
  
  function closeCreatePostOverlay() {
  
  createPostOverlay.style.display = 'none';
  
  }
  
  
  
  
  
  function openCreatePostOverlay() {
  
  createPostOverlay.style.display = 'flex';
  
  }
  
  ;
      </script>
</body>

</html>